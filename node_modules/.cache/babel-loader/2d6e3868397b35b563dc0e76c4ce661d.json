{"ast":null,"code":"import { SET_ENGINE, SET_COLOR, SET_EXTRAS, SET_INTERIOR, SET_WHEEL, CALCULATE_PRICE } from \"../actions/SelectAction\";\nimport { SAVE_CONFIG, NEW_CONFIG } from \"../actions/FetchAction\";\nconst currentState = JSON.parse(localStorage.getItem(\"currentConfig\"));\nlet initialState = currentState ? currentState : {\n  engine: \"\",\n  color: \"\",\n  interior: \"\",\n  wheels: \"\",\n  extra: [],\n  price: \"\",\n  savedConfiguration: {}\n};\nlet nextState;\n\nconst ConfigurationReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_ENGINE:\n      nextState = { ...state,\n        engine: action.payload\n      };\n      localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n      return nextState;\n\n    case SET_COLOR:\n      nextState = { ...state,\n        color: action.payload\n      };\n      localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n      return nextState;\n\n    case SET_EXTRAS:\n      if (state.extra.includes(action.payload)) {\n        nextState = { ...state,\n          extra: []\n        };\n        state.extra.forEach(extra => {\n          if (extra !== action.payload) {\n            nextState.extra = [...nextState.extra, extra];\n          }\n        });\n        localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n        return nextState;\n      } else {\n        nextState = { ...state,\n          extra: [...state.extra, action.payload]\n        };\n        localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n        return nextState;\n      }\n\n    case SET_INTERIOR:\n      nextState = { ...state,\n        interior: action.payload\n      };\n      localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n      return nextState;\n\n    case SET_WHEEL:\n      nextState = { ...state,\n        wheels: action.payload\n      };\n      localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n      return nextState;\n\n    case SAVE_CONFIG:\n      nextState = { ...state,\n        savedConfiguration: action.payload\n      };\n      localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n      return nextState;\n\n    case NEW_CONFIG:\n      let engine = action.payload.carConfigAttributes.find(attribute => attribute.type === \"engine\");\n      let color = action.payload.carConfigAttributes.find(attribute => attribute.type === \"color\");\n      let interior = action.payload.carConfigAttributes.find(attribute => attribute.type === \"interior\");\n      let wheels = action.payload.carConfigAttributes.find(attribute => attribute.type === \"wheel\");\n      let extra = action.payload.carConfigAttributes.filter(attribute => attribute.type === \"extra\");\n      return {\n        engine: engine ? engine : \"\",\n        color: color ? color : \"\",\n        interior: interior ? interior : \"\",\n        wheels: wheels ? wheels : \"\",\n        extra: extra ? extra : [],\n        price: \"\",\n        savedConfiguration: {}\n      };\n\n    case CALCULATE_PRICE:\n      let newPrice;\n      Objecte.values(state).forEach(attribute => attribute !== undefined ? attribute.priceInCents ? newPrice += attribute.priceInCents : 0 : 0);\n      let formattedPrice = `${newPrice}`.slice(-1) == 0 ? `${newPrice / 100}0€` : `${newPrice / 100}€`;\n      nextState = { ...state,\n        price: formattedPrice\n      };\n      localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n      return nextState;\n\n    default:\n      return state;\n  }\n};\n\n_c = ConfigurationReducer;\nexport default ConfigurationReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ConfigurationReducer\");","map":{"version":3,"names":["SET_ENGINE","SET_COLOR","SET_EXTRAS","SET_INTERIOR","SET_WHEEL","CALCULATE_PRICE","SAVE_CONFIG","NEW_CONFIG","currentState","JSON","parse","localStorage","getItem","initialState","engine","color","interior","wheels","extra","price","savedConfiguration","nextState","ConfigurationReducer","state","action","type","payload","setItem","stringify","includes","forEach","carConfigAttributes","find","attribute","filter","newPrice","Objecte","values","undefined","priceInCents","formattedPrice","slice"],"sources":["/Users/vw7u456/projects/abschluss2/g3t6_zwischenpruefung_jahr2_gruppe07/configurator-frontend/src/reducer/ConfigurationReducer.js"],"sourcesContent":["import { SET_ENGINE, SET_COLOR, SET_EXTRAS, SET_INTERIOR, SET_WHEEL, CALCULATE_PRICE } from \"../actions/SelectAction\"\nimport { SAVE_CONFIG, NEW_CONFIG } from \"../actions/FetchAction\"\n\nconst currentState = JSON.parse(localStorage.getItem(\"currentConfig\"));\n\nlet initialState = currentState ? currentState : {\n    engine: \"\",\n    color: \"\",\n    interior: \"\",\n    wheels: \"\",\n    extra: [],\n    price: \"\",\n    savedConfiguration: {},\n};\nlet nextState;\n\nconst ConfigurationReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_ENGINE:\n            nextState = { ...state, engine: action.payload }\n            localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n            return nextState;\n        case SET_COLOR:\n            nextState = { ...state, color: action.payload }\n            localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n            return nextState;\n        case SET_EXTRAS:\n            if (state.extra.includes(action.payload)) {\n                nextState = { ...state, extra: [] };\n                state.extra.forEach(extra => {\n                    if (extra !== action.payload) {\n                        nextState.extra = [...nextState.extra, extra]\n                    }\n                })\n                localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n                return nextState;\n            }\n            else {\n                nextState = { ...state, extra: [...state.extra, action.payload] }\n                localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n                return nextState;\n            }\n        case SET_INTERIOR:\n            nextState = { ...state, interior: action.payload };\n            localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n            return nextState;\n        case SET_WHEEL:\n            nextState = { ...state, wheels: action.payload };\n            localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n            return nextState;\n        case SAVE_CONFIG:\n            nextState = { ...state, savedConfiguration: action.payload };\n            localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n            return nextState;\n        case NEW_CONFIG:\n            let engine = action.payload.carConfigAttributes.find(attribute => attribute.type === \"engine\");\n            let color = action.payload.carConfigAttributes.find(attribute => attribute.type === \"color\");\n            let interior = action.payload.carConfigAttributes.find(attribute => attribute.type === \"interior\");\n            let wheels = action.payload.carConfigAttributes.find(attribute => attribute.type === \"wheel\");\n            let extra = action.payload.carConfigAttributes.filter(attribute => attribute.type === \"extra\");\n            return {\n                engine: engine ? engine : \"\",\n                color: color ? color : \"\",\n                interior: interior ? interior : \"\",\n                wheels: wheels ? wheels : \"\",\n                extra: extra ? extra : [],\n                price: \"\",\n                savedConfiguration: {},\n            }\n        case CALCULATE_PRICE:\n            let newPrice;\n            Objecte.values(state).forEach(attribute => attribute !== undefined ? attribute.priceInCents ? newPrice += attribute.priceInCents : 0 : 0)\n            let formattedPrice = `${newPrice}`.slice(-1) == 0 ? `${newPrice / 100}0€` : `${newPrice / 100}€`\n            nextState = { ...state, price: formattedPrice };\n            localStorage.setItem(\"currentConfig\", JSON.stringify(nextState));\n            return nextState;\n        default:\n            return state;\n    }\n}\nexport default ConfigurationReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}