{"ast":null,"code":"export const SAVE_CONFIG = \"SAVE_CONFIG\";\nexport const GET_ATTRIBUTES = \"GET_ATTRIBUTES\";\nexport const NEW_CONFIG = \"NEW_CONFIG\";\nconst BASE_URL = \"http://localhost:8080/api/\";\nexport const getNewConfig = configId => async dispatch => {\n  try {\n    const response = await fetch(`${BASE_URL}configuration/${configId}`);\n    const payload = await response.json();\n    dispatch({\n      type: NEW_CONFIG,\n      payload: payload\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const postConfiguration = configuration => async dispatch => {\n  let config = [];\n  Object.values(configuration).map(attr => {\n    if (Array.isArray(attr)) {\n      attr.map(innerAttr => config = [...config, innerAttr]);\n    } else {\n      config = [...config, attr];\n    }\n  });\n  config = {\n    carConfigAttributes: config.slice(0, config.length - 1)\n  };\n\n  try {\n    const response = await fetch(BASE_URL + \"configuration\", {\n      method: \"POST\",\n      body: JSON.stringify(config),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      }\n    });\n    const postObject = await response.json();\n    dispatch({\n      type: SAVE_CONFIG,\n      payload: postObject\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getAllAttributes = () => async dispatch => {\n  try {\n    const response = await fetch(BASE_URL + \"attributes\");\n    const payload = await response.json();\n    dispatch({\n      type: GET_ATTRIBUTES,\n      payload: payload\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["SAVE_CONFIG","GET_ATTRIBUTES","NEW_CONFIG","BASE_URL","getNewConfig","configId","dispatch","response","fetch","payload","json","type","error","console","log","postConfiguration","configuration","config","Object","values","map","attr","Array","isArray","innerAttr","carConfigAttributes","slice","length","method","body","JSON","stringify","headers","postObject","getAllAttributes"],"sources":["/Users/vw7u456/projects/abschluss2/g3t6_zwischenpruefung_jahr2_gruppe07/configurator-frontend/src/actions/FetchAction.js"],"sourcesContent":["export const SAVE_CONFIG = \"SAVE_CONFIG\";\nexport const GET_ATTRIBUTES = \"GET_ATTRIBUTES\"\nexport const NEW_CONFIG = \"NEW_CONFIG\"\n\nconst BASE_URL = \"http://localhost:8080/api/\"\n\n\nexport const getNewConfig = (configId) => async (dispatch) => {\n  try {\n\n    const response = await fetch(`${BASE_URL}configuration/${configId}`);\n    const payload = await response.json();\n    dispatch({\n      type: NEW_CONFIG,\n      payload: payload\n    })\n  } catch (error) {\n    console.log(error);\n  }\n\n}\n\nexport const postConfiguration = (configuration) => async (dispatch) => {\n  let config = [];\n  Object.values(configuration).map(attr => {\n    if (Array.isArray(attr)) {\n      attr.map(innerAttr => config = [...config, innerAttr])\n    } else {\n      config = [...config, attr]\n    }\n  })\n  config = { carConfigAttributes: config.slice(0, config.length - 1) };\n\n  try {\n    const response = await fetch(\n      BASE_URL + \"configuration\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(config),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        }\n      }\n    );\n    const postObject = await response.json();\n    dispatch({\n      type: SAVE_CONFIG,\n      payload: postObject\n    });\n  } catch (error) {\n    console.log(error);\n  }\n\n}\n\nexport const getAllAttributes = () => async (dispatch) => {\n  try {\n    const response = await fetch(BASE_URL + \"attributes\");\n    const payload = await response.json();\n    dispatch({\n      type: GET_ATTRIBUTES,\n      payload: payload\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}"],"mappings":"AAAA,OAAO,MAAMA,WAAW,GAAG,aAApB;AACP,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,MAAMC,UAAU,GAAG,YAAnB;AAEP,MAAMC,QAAQ,GAAG,4BAAjB;AAGA,OAAO,MAAMC,YAAY,GAAIC,QAAD,IAAc,MAAOC,QAAP,IAAoB;EAC5D,IAAI;IAEF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEL,QAAS,iBAAgBE,QAAS,EAAtC,CAA5B;IACA,MAAMI,OAAO,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAtB;IACAJ,QAAQ,CAAC;MACPK,IAAI,EAAET,UADC;MAEPO,OAAO,EAAEA;IAFF,CAAD,CAAR;EAID,CARD,CAQE,OAAOG,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACD;AAEF,CAbM;AAeP,OAAO,MAAMG,iBAAiB,GAAIC,aAAD,IAAmB,MAAOV,QAAP,IAAoB;EACtE,IAAIW,MAAM,GAAG,EAAb;EACAC,MAAM,CAACC,MAAP,CAAcH,aAAd,EAA6BI,GAA7B,CAAiCC,IAAI,IAAI;IACvC,IAAIC,KAAK,CAACC,OAAN,CAAcF,IAAd,CAAJ,EAAyB;MACvBA,IAAI,CAACD,GAAL,CAASI,SAAS,IAAIP,MAAM,GAAG,CAAC,GAAGA,MAAJ,EAAYO,SAAZ,CAA/B;IACD,CAFD,MAEO;MACLP,MAAM,GAAG,CAAC,GAAGA,MAAJ,EAAYI,IAAZ,CAAT;IACD;EACF,CAND;EAOAJ,MAAM,GAAG;IAAEQ,mBAAmB,EAAER,MAAM,CAACS,KAAP,CAAa,CAAb,EAAgBT,MAAM,CAACU,MAAP,GAAgB,CAAhC;EAAvB,CAAT;;EAEA,IAAI;IACF,MAAMpB,QAAQ,GAAG,MAAMC,KAAK,CAC1BL,QAAQ,GAAG,eADe,EAE1B;MACEyB,MAAM,EAAE,MADV;MAEEC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAed,MAAf,CAFR;MAGEe,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEP,UAAU;MAFH;IAHX,CAF0B,CAA5B;IAWA,MAAMC,UAAU,GAAG,MAAM1B,QAAQ,CAACG,IAAT,EAAzB;IACAJ,QAAQ,CAAC;MACPK,IAAI,EAAEX,WADC;MAEPS,OAAO,EAAEwB;IAFF,CAAD,CAAR;EAID,CAjBD,CAiBE,OAAOrB,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACD;AAEF,CAhCM;AAkCP,OAAO,MAAMsB,gBAAgB,GAAG,MAAM,MAAO5B,QAAP,IAAoB;EACxD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,QAAQ,GAAG,YAAZ,CAA5B;IACA,MAAMM,OAAO,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAtB;IACAJ,QAAQ,CAAC;MACPK,IAAI,EAAEV,cADC;MAEPQ,OAAO,EAAEA;IAFF,CAAD,CAAR;EAID,CAPD,CAOE,OAAOG,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACD;AACF,CAXM"},"metadata":{},"sourceType":"module"}