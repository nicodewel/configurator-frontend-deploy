{"ast":null,"code":"import _regeneratorRuntime from\"/Users/vw7u456/projects/abschluss2/g3t6_zwischenpruefung_jahr2_gruppe07/configurator-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/vw7u456/projects/abschluss2/g3t6_zwischenpruefung_jahr2_gruppe07/configurator-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/vw7u456/projects/abschluss2/g3t6_zwischenpruefung_jahr2_gruppe07/configurator-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useDispatch}from'react-redux';import{getNewConfig}from'../actions/FetchAction';import{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoadConfig=function LoadConfig(){var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),configId=_useState2[0],setConfigId=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),warning=_useState4[0],setWarning=_useState4[1];var newConfig=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(getNewConfig(configId));case 2:result=_context.sent;if(result){setConfigId(\"\");navigate(\"/engineConfig\");document.getElementById(\"modalDissmissButton\").click();}else{setWarning(configId);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function newConfig(_x){return _ref.apply(this,arguments);};}();var handleInput=function handleInput(e){setConfigId(e.target.value);setWarning(false);};var reset=function reset(){setWarning(false);setConfigId(\"\");};return/*#__PURE__*/_jsx(\"div\",{className:\"modal fade modal-lg\",id:\"staticBackdrop\",\"data-bs-backdrop\":\"static\",\"data-bs-keyboard\":\"false\",tabIndex:\"-1\",\"aria-labelledby\":\"staticBackdropLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"staticBackdropLabel\",children:\"Konfiguration laden\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\",onClick:function onClick(){return reset();}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-form-label\",children:\"Konfigurations-Id:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:function onChange(e){return handleInput(e);},value:configId}),warning?/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[\"ID \",warning,\" existiert nicht!\"]}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"modalDissmissButton\",type:\"button\",onClick:function onClick(){return reset();},className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:configId?false:true,onClick:/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",newConfig(e));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}(),children:\"Konfiguration laden\"})]})]})})});};export default LoadConfig;","map":{"version":3,"names":["useDispatch","getNewConfig","useState","useNavigate","LoadConfig","dispatch","navigate","configId","setConfigId","warning","setWarning","newConfig","e","result","document","getElementById","click","handleInput","target","value","reset"],"sources":["/Users/vw7u456/projects/abschluss2/g3t6_zwischenpruefung_jahr2_gruppe07/configurator-frontend/src/components/LoadConfig.js"],"sourcesContent":["import { useDispatch } from 'react-redux';\nimport { getNewConfig } from '../actions/FetchAction';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst LoadConfig = () => {\n\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const [configId, setConfigId] = useState(\"\");\n    const [warning, setWarning] = useState(false);\n\n\n    const newConfig = async (e) => {\n        let result = await dispatch(getNewConfig(configId))\n        if (result) {\n            setConfigId(\"\");\n            navigate(\"/engineConfig\");\n            document.getElementById(\"modalDissmissButton\").click();\n        } else {\n            setWarning(configId)\n        }\n    }\n\n    const handleInput = (e) => {\n        setConfigId(e.target.value);\n        setWarning(false);\n    }\n\n    const reset = () => {\n        setWarning(false);\n        setConfigId(\"\");\n    }\n\n\n    return (\n        <div className=\"modal fade modal-lg\" id=\"staticBackdrop\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabIndex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\" id=\"staticBackdropLabel\">Konfiguration laden</h5>\n                        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" onClick={() => reset()}></button>\n                    </div>\n                    <div className=\"modal-body\">\n\n                        <label className=\"col-form-label\">Konfigurations-Id:</label>\n                        <input type=\"text\" className=\"form-control\" onChange={(e) => handleInput(e)} value={configId} />\n                        {warning ? <div className=\"alert alert-danger\" role=\"alert\">ID {warning} existiert nicht!</div> : null}\n\n                    </div>\n                    <div className=\"modal-footer\">\n                        <button id=\"modalDissmissButton\" type=\"button\" onClick={() => reset()} className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                        <button type=\"submit\" className=\"btn btn-primary\" disabled={configId ? false : true} onClick={async (e) => newConfig(e)} >Konfiguration laden</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n\n\n}\n\nexport default LoadConfig;"],"mappings":"yiBAAA,OAASA,WAAT,KAA4B,aAA5B,CACA,OAASC,YAAT,KAA6B,wBAA7B,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CAErB,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CACA,GAAMM,SAAQ,CAAGH,WAAW,EAA5B,CACA,cAAgCD,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAA8BN,QAAQ,CAAC,KAAD,CAAtC,yCAAOO,OAAP,eAAgBC,UAAhB,eAGA,GAAMC,UAAS,4FAAG,iBAAOC,CAAP,qJACKP,SAAQ,CAACJ,YAAY,CAACM,QAAD,CAAb,CADb,QACVM,MADU,eAEd,GAAIA,MAAJ,CAAY,CACRL,WAAW,CAAC,EAAD,CAAX,CACAF,QAAQ,CAAC,eAAD,CAAR,CACAQ,QAAQ,CAACC,cAAT,CAAwB,qBAAxB,EAA+CC,KAA/C,GACH,CAJD,IAIO,CACHN,UAAU,CAACH,QAAD,CAAV,CACH,CARa,sDAAH,kBAATI,UAAS,4CAAf,CAWA,GAAMM,YAAW,CAAG,QAAdA,YAAc,CAACL,CAAD,CAAO,CACvBJ,WAAW,CAACI,CAAC,CAACM,MAAF,CAASC,KAAV,CAAX,CACAT,UAAU,CAAC,KAAD,CAAV,CACH,CAHD,CAKA,GAAMU,MAAK,CAAG,QAARA,MAAQ,EAAM,CAChBV,UAAU,CAAC,KAAD,CAAV,CACAF,WAAW,CAAC,EAAD,CAAX,CACH,CAHD,CAMA,mBACI,YAAK,SAAS,CAAC,qBAAf,CAAqC,EAAE,CAAC,gBAAxC,CAAyD,mBAAiB,QAA1E,CAAmF,mBAAiB,OAApG,CAA4G,QAAQ,CAAC,IAArH,CAA0H,kBAAgB,qBAA1I,CAAgK,cAAY,MAA5K,uBACI,YAAK,SAAS,CAAC,cAAf,uBACI,aAAK,SAAS,CAAC,eAAf,wBACI,aAAK,SAAS,CAAC,cAAf,wBACI,WAAI,SAAS,CAAC,aAAd,CAA4B,EAAE,CAAC,qBAA/B,iCADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,WAAhC,CAA4C,kBAAgB,OAA5D,CAAoE,aAAW,OAA/E,CAAuF,OAAO,CAAE,yBAAMY,MAAK,EAAX,EAAhG,EAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,YAAf,wBAEI,cAAO,SAAS,CAAC,gBAAjB,gCAFJ,cAGI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,QAAQ,CAAE,kBAACR,CAAD,QAAOK,YAAW,CAACL,CAAD,CAAlB,EAAtD,CAA6E,KAAK,CAAEL,QAApF,EAHJ,CAIKE,OAAO,cAAG,aAAK,SAAS,CAAC,oBAAf,CAAoC,IAAI,CAAC,OAAzC,iBAAqDA,OAArD,uBAAH,CAA0F,IAJtG,GALJ,cAYI,aAAK,SAAS,CAAC,cAAf,wBACI,eAAQ,EAAE,CAAC,qBAAX,CAAiC,IAAI,CAAC,QAAtC,CAA+C,OAAO,CAAE,yBAAMW,MAAK,EAAX,EAAxD,CAAuE,SAAS,CAAC,mBAAjF,CAAqG,kBAAgB,OAArH,mBADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,CAAkD,QAAQ,CAAEb,QAAQ,CAAG,KAAH,CAAW,IAA/E,CAAqF,OAAO,6FAAE,kBAAOK,CAAP,yJAAaD,SAAS,CAACC,CAAD,CAAtB,0DAAF,gEAA5F,iCAFJ,GAZJ,GADJ,EADJ,EADJ,CAyBH,CAvDD,CAyDA,cAAeR,WAAf"},"metadata":{},"sourceType":"module"}