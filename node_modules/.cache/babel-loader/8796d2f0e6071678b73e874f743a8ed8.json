{"ast":null,"code":"import _regeneratorRuntime from\"/Users/vw7u456/projects/abschluss2/g3t6_zwischenpruefung_jahr2_gruppe07/configurator-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/vw7u456/projects/abschluss2/g3t6_zwischenpruefung_jahr2_gruppe07/configurator-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/vw7u456/projects/abschluss2/g3t6_zwischenpruefung_jahr2_gruppe07/configurator-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{postConfiguration}from\"../actions/FetchAction\";import{isConfigurationValid}from\"../util/util\";import ConfigSaved from\"./ConfigSaved\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SaveConfigButton=function SaveConfigButton(configId){var dispatch=useDispatch();var currentConfig=useSelector(function(state){return state.config;});var _useState=useState({id:0}),_useState2=_slicedToArray(_useState,2),savedConfig=_useState2[0],setSavedConfig=_useState2[1];var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!isConfigurationValid(currentConfig)){_context.next=7;break;}_context.next=3;return dispatch(postConfiguration(currentConfig));case 3:response=_context.sent;setSavedConfig(response);_context.next=8;break;case 7:setSavedConfig(false);case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleClick(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ConfigSaved,{savedConfig:savedConfig}),/*#__PURE__*/_jsxs(\"button\",{\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#configSaved\",className:\"btn btn-light\",onClick:function onClick(){return handleClick();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-download\"}),\" Konfiguration sichern\"]})]});};export default SaveConfigButton;","map":{"version":3,"names":["useState","useDispatch","useSelector","postConfiguration","isConfigurationValid","ConfigSaved","SaveConfigButton","configId","dispatch","currentConfig","state","config","id","savedConfig","setSavedConfig","handleClick","response"],"sources":["/Users/vw7u456/projects/abschluss2/g3t6_zwischenpruefung_jahr2_gruppe07/configurator-frontend/src/components/SaveConfigButton.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { postConfiguration } from \"../actions/FetchAction\";\nimport { isConfigurationValid } from \"../util/util\";\nimport ConfigSaved from \"./ConfigSaved\";\n\n\nconst SaveConfigButton = (configId) => {\n    const dispatch = useDispatch();\n    const currentConfig = useSelector(state => state.config);\n    let [savedConfig, setSavedConfig] = useState({ id: 0 });\n\n    const handleClick = async () => {\n        if (isConfigurationValid(currentConfig)) {\n            const response = await dispatch(postConfiguration(currentConfig))\n            setSavedConfig(response);\n        }\n        else {\n            setSavedConfig(false);\n        }\n    }\n\n    return (\n        <div>\n            <ConfigSaved savedConfig={savedConfig} />\n            <button data-bs-toggle=\"modal\" data-bs-target=\"#configSaved\" className=\"btn btn-light\" onClick={() => handleClick()}><i className=\"bi bi-download\"></i> Konfiguration sichern</button>\n        </div>\n    )\n}\n\nexport default SaveConfigButton;"],"mappings":"yiBAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,iBAAT,KAAkC,wBAAlC,CACA,OAASC,oBAAT,KAAqC,cAArC,CACA,MAAOC,YAAP,KAAwB,eAAxB,C,wFAGA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,QAAD,CAAc,CACnC,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CACA,GAAMQ,cAAa,CAAGP,WAAW,CAAC,SAAAQ,KAAK,QAAIA,MAAK,CAACC,MAAV,EAAN,CAAjC,CACA,cAAoCX,QAAQ,CAAC,CAAEY,EAAE,CAAE,CAAN,CAAD,CAA5C,wCAAKC,WAAL,eAAkBC,cAAlB,eAEA,GAAMC,YAAW,4FAAG,sJACZX,oBAAoB,CAACK,aAAD,CADR,+CAEWD,SAAQ,CAACL,iBAAiB,CAACM,aAAD,CAAlB,CAFnB,QAENO,QAFM,eAGZF,cAAc,CAACE,QAAD,CAAd,CAHY,6BAMZF,cAAc,CAAC,KAAD,CAAd,CANY,sDAAH,kBAAXC,YAAW,0CAAjB,CAUA,mBACI,oCACI,KAAC,WAAD,EAAa,WAAW,CAAEF,WAA1B,EADJ,cAEI,gBAAQ,iBAAe,OAAvB,CAA+B,iBAAe,cAA9C,CAA6D,SAAS,CAAC,eAAvE,CAAuF,OAAO,CAAE,yBAAME,YAAW,EAAjB,EAAhG,wBAAqH,UAAG,SAAS,CAAC,gBAAb,EAArH,4BAFJ,GADJ,CAMH,CArBD,CAuBA,cAAeT,iBAAf"},"metadata":{},"sourceType":"module"}